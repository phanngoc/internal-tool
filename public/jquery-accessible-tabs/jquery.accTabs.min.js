/*!
 * jQuery Accessible Tabs
 *
 * @description: Creates accessible tabs - a single content area with multiple panels
 * @source: https://github.com/nomensa/jquery.accessible-tabs.git
 * @version: '0.1.1'
 *
 * @author: Nomensa
 * @license: licenced under MIT - http://opensource.org/licenses/mit-license.php
*/
!function(a){"use strict";function b(b,c){function f(){i.controlsWrapper=a('<ul class="'+i.options.tabControlsClass+'" role="tablist" />'),a("> div",i.element).each(function(b,c){var d=i.options.tabControlId+e+b,f=i.options.tabPanelId+e+b,j=a(a(c).prev()),k=j.html(),l=a('<li role="presentation"><button aria-selected="false" data-controls="'+f+'" id="'+d+'" role="tab">'+k+"</button></li>");j.hide(),a("button",l).click(g(i)).keydown(h(i)),i.controlsWrapper.append(l)}),i.element.prepend(i.controlsWrapper),a("> div",i.element).each(function(b,c){a(c).addClass(i.options.tabPanelClass).attr({"aria-hidden":"true","aria-labelledby":i.options.tabControlId+e+b,id:i.options.tabPanelId+e+b,role:"tabpanel"}).hide()}),i.controlsTextWrapper=a('<p class="'+i.options.controlsTextClass+'">'+i.options.controlsText+"</p>"),i.element.prepend(i.controlsTextWrapper),i.activateTab(a("button",i.controlsWrapper).eq(i.options.defaultTab)),i.element.addClass(i.options.containerClass),e++,i.options.callbackCreate()}function g(){return i.handleClick=function(a){a.preventDefault(),i.activateTab(this)},i.handleClick}function h(){return i.handleKeyDown=function(b){switch(b.which){case 37:case 38:b.preventDefault(),0!==a(this).parent().prev().length?a(this).parent().prev().find("> button").focus().click():a(i.controlsWrapper).find("li:last > button").focus().click();break;case 39:case 40:b.preventDefault(),0!==a(this).parent().next().length?a(this).parent().next().find("> button").focus().click():a(i.controlsWrapper).find("li:first > button").focus().click()}},i.handleKeyDown}var i=this;i.element=a(b),i.options=a.extend({},d,c),f()}var c,d,e=0;c="accTabs",d={defaultTab:0,callbackCreate:function(){},callbackDestroy:function(){},containerClass:"js-tabs",controlActiveClass:"js-tabs_control-item--active",controlsText:"Use the tab and enter or arrow keys to move between tabs",controlsTextClass:"js-tabs_control-text",tabControlsClass:"js-tabs_control",tabControlId:"js-tabs_control-item--",tabPanelClass:"js-tabs_panel",tabPanelId:"js-tabs_panel--"},b.prototype.activateTab=function(b){if("false"===a(b).attr("aria-selected")){var c=this.options.controlActiveClass,d="#"+a(b).attr("data-controls");0!==a('[aria-selected="true"]',this.controlsWrapper).length&&(a('[aria-selected="true"]',this.controlsWrapper).attr("aria-selected","false").parent("li").removeClass(c),a('> [aria-hidden="false"]',this.element).attr("aria-hidden","true").hide()),a(b,this.element).attr("aria-selected","true"),a(b,this.element).parent("li").addClass(c),a(d,this.element).attr("aria-hidden","false").show()}},b.prototype.rebuild=function(){return new b(this.element,this.options)},b.prototype.destroy=function(){var b=this;this.element.removeClass(this.options.containerClass),a("> ."+this.options.controlsTextClass,this.element).remove(),a("> ."+this.options.tabControlsClass,this.element).remove(),a("> div",this.element).prev().removeAttr("style"),a("> div",this.element).each(function(c,d){a(d).removeAttr("aria-hidden aria-labelledby id role style").removeClass(b.options.tabPanelClass)}),this.options.callbackDestroy()},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);