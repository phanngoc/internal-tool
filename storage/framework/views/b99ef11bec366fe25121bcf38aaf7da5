<?php $__env->startSection('head.title'); ?>
<?php echo e(trans('messages.edit_user')); ?>

<?php $__env->stopSection(); ?>

<?php $__env->startSection('body.content'); ?>

<script src="<?php echo e(Asset('bootstrap/js/select2.min.js')); ?>" type="text/javascript"></script>
<link href="<?php echo e(Asset('bootstrap/css/select2.min.css')); ?>" rel="stylesheet" type="text/css" />
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            <?php echo e(trans('messages.user_management')); ?>

        </h1>
        <ol class="breadcrumb">
            <li><a href="<?php echo e(route('index')); ?>"><i class="fa fa-dashboard"></i> <?php echo e(trans('messages.dashboard')); ?></a></li>
            <li><a href="<?php echo e(route('users.index')); ?>"><?php echo e(trans('messages.user')); ?></a></li>
            <li class="active"><?php echo e(trans('messages.edit_user')); ?></li>
        </ol>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="row">
            <!-- left column -->
            <div class="col-md-8 col-md-offset-2">
                <!-- general form elements -->
                <div class="box box-primary">
                    <div class="box-header">
                        <h3 class="box-title"><?php echo e(trans('messages.edit_user')); ?></h3>
                        <a class="btn btn-primary pull-right" href="<?php echo route('users.index'); ?>"><?php echo e(trans('messages.list_user')); ?></i></a>
                    </div>
                    <?php if(count($errors) > 0): ?>
                    <div class="alert alert-danger">
                        <strong><?php echo e(trans('messages.whoop')); ?></strong> <?php echo e(trans('messages.problem')); ?><br><br>
                        <ul>
                            <?php foreach($errors->all() as $error): ?>
                            <li><?php echo e($error); ?></li>
                            <?php endforeach; ?>
                        </ul>
                    </div>
                    <?php endif; ?>
                    <!-- form start -->
                    <?php echo Form::model($user, array('method' => 'PUT', 'route' => array('users.update', $user->id), 'class'=>'edit')); ?>

                    <div class="box-body">
                        <div class="form-group">
                            <?php echo Form::label('fullname', trans('messages.lb_fullname')); ?>

                            <?php echo Form::text('fullname',null,['class'=>'form-control','id'=>'fullname','required'=>'true','autofocus']); ?>

                        </div>
                        <div class="form-group">
                            <?php echo Form::label('email', trans('messages.lb_email')); ?>

                            <?php echo Form::text('email',null,['class'=>'form-control','required'=>'true']); ?>

                        </div>
                        <div class="form-group">
                            <?php echo Form::label('group_id', trans('messages.lb_groups')); ?>

                            <?php echo Form::select('group_id[] group',$groups,$groupssl, ['class'=>'js-example-basic-multiple form-control','multiple'=>'true','required'=>'true']); ?>

                        </div>
                        <div class="box-footer center">
                            <div class="row">
                                <div class="col-sm-4 col-sm-offset-4 text-center">
                                    <button type="submit" class="btn btn-primary"><?php echo e(trans('messages.update')); ?></button>
                                    <input type='reset' name='reset' id='reset' class="btn btn-danger" value="<?php echo e(trans('messages.reset')); ?>">
                                </div>
                            </div>
                        </div>
                        <?php echo Form::close(); ?>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <script type="text/javascript">
        $(".js-example-basic-multiple").select2({placeholder: "Please enter your group"});
    </script>
    <script>
        $(".edit").validate({
            rules: {
                fullname: {
                    minlength: 4
                },
                email: {
                    email: true
                },
                group: {
                    required: true
                }
            },
            messages: {
                fullname: {
                    required: "Please enter your full name",
                    minlength: "Please enter your full name with 5 or more characters"
                },
                email: {
                    required: "Please enter your email",
                    email: "Please enter a valid format email address"
                },
                group: {
                    required: "Please enter your group"
                }
            }
        });
    </script>
</div>
<?php $__env->stopSection(); ?>
<?php echo $__env->make('layouts.master', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>